# éŸ³ä¹Token Embeddingèšç±»åˆ†æé¡¹ç›®æ€»ç»“

**é¡¹ç›®åç§°**: åŸºäºUMAP-HDBSCANçš„éŸ³ä¹Tokenåºåˆ—èšç±»åˆ†æ
**åˆ›å»ºæ—¥æœŸ**: 2025-11-10
**æ–¹æ¡ˆ**: æ–¹æ¡ˆB - å¯†åº¦èšç±»ï¼ˆæ¢ç´¢æœ€ä¼˜ç°‡æ•°ï¼‰
**ç›®æ ‡ç°‡æ•°**: 512

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®èƒŒæ™¯](#1-é¡¹ç›®èƒŒæ™¯)
2. [ç ”ç©¶ç›®æ ‡](#2-ç ”ç©¶ç›®æ ‡)
3. [æ•°æ®è¯´æ˜](#3-æ•°æ®è¯´æ˜)
4. [æŠ€æœ¯æ–¹æ¡ˆ](#4-æŠ€æœ¯æ–¹æ¡ˆ)
5. [ç¨‹åºæ¶æ„](#5-ç¨‹åºæ¶æ„)
6. [æ ¸å¿ƒç®—æ³•](#6-æ ¸å¿ƒç®—æ³•)
7. [ä½¿ç”¨æŒ‡å—](#7-ä½¿ç”¨æŒ‡å—)
8. [å®éªŒæµç¨‹](#8-å®éªŒæµç¨‹)
9. [å‚æ•°è°ƒä¼˜ç­–ç•¥](#9-å‚æ•°è°ƒä¼˜ç­–ç•¥)
10. [ç»“æœè§£è¯»](#10-ç»“æœè§£è¯»)
11. [å¸¸è§é—®é¢˜](#11-å¸¸è§é—®é¢˜)
12. [æŠ€æœ¯ç»†èŠ‚](#12-æŠ€æœ¯ç»†èŠ‚)

---

## 1. é¡¹ç›®èƒŒæ™¯

### 1.1 ç ”ç©¶èƒŒæ™¯

æœ¬é¡¹ç›®æºäºç¬¦å·éŸ³ä¹æ•°æ®çš„è‡ªç›‘ç£å­¦ä¹ ï¼ˆSelf-Supervised Learning, SSLï¼‰ç ”ç©¶ã€‚æˆ‘ä»¬ä½¿ç”¨Transformerç¼–ç å™¨-è§£ç å™¨ç»“æ„å¯¹ç¬¦å·éŸ³ä¹æ•°æ®è¿›è¡Œå¤„ç†ï¼š

1. **è¾“å…¥**: éŸ³ä¹çš„ç¬¦å·è¡¨ç¤ºï¼ˆtokenåºåˆ—ï¼‰
2. **å¤„ç†**: Transformer encoder-decoderè¿›è¡Œé‡æ„
3. **è¾“å‡º**: 768ç»´hidden stateå‘é‡ï¼ˆå‹ç¼©è¡¨ç¤ºï¼‰
4. **è®­ç»ƒ**: é€šè¿‡äº¤å‰ç†µæŸå¤±è®­ç»ƒï¼Œç±»ä¼¼è‡ªç¼–ç å™¨ï¼ˆAEï¼‰

### 1.2 ç ”ç©¶åŠ¨æœº

ä»Transformerå­¦ä¹ åˆ°çš„768ç»´éŸ³ä¹è¡¨ç¤ºä¸­ï¼š
- **æ¢ç´¢éšè—ç»“æ„**: éŸ³ä¹ç‰‡æ®µçš„å†…åœ¨æ¨¡å¼å’Œåˆ†ç»„
- **æ— ç›‘ç£å‘ç°**: ä¸ä¾èµ–æ ‡ç­¾ï¼Œè‡ªåŠ¨è¯†åˆ«éŸ³ä¹ç±»å‹/é£æ ¼
- **ç‰¹å¾å­¦ä¹ éªŒè¯**: è¯„ä¼°Transformerå­¦åˆ°çš„è¡¨ç¤ºè´¨é‡

### 1.3 å·²æœ‰è§‚å¯Ÿ

åˆæ­¥t-SNEå¯è§†åŒ–æ˜¾ç¤ºï¼š
- æ•°æ®å…·æœ‰æ˜æ˜¾çš„ç°‡ç»“æ„
- å­˜åœ¨"high voice"å’Œ"low voice"ä¸¤ä¸ªå·²çŸ¥ç±»åˆ«
- ç°‡ä¹‹é—´æœ‰ä¸€å®šé‡å ï¼Œéœ€è¦æ›´ç²¾ç»†çš„åˆ’åˆ†

---

## 2. ç ”ç©¶ç›®æ ‡

### 2.1 ä¸»è¦ç›®æ ‡

**æ ¸å¿ƒä»»åŠ¡**: å¯¹83,362ä¸ª768ç»´éŸ³ä¹token embeddingè¿›è¡Œèšç±»ï¼Œç›®æ ‡è¯†åˆ«å‡º**512ä¸ªæœ‰æ„ä¹‰çš„ç°‡**

### 2.2 å…·ä½“ç›®æ ‡

1. **èšç±»åˆ†æ**: å‘ç°æ•°æ®ä¸­çš„è‡ªç„¶åˆ†ç»„
2. **é™ç»´å¯è§†åŒ–**: å°†é«˜ç»´æ•°æ®æŠ•å½±åˆ°2D/3Dç©ºé—´
3. **è´¨é‡è¯„ä¼°**: ä½¿ç”¨å¤šä¸ªæŒ‡æ ‡è¯„ä¼°èšç±»è´¨é‡
4. **å‚æ•°ä¼˜åŒ–**: æ‰¾åˆ°æœ€æ¥è¿‘512ç°‡çš„æœ€ä¼˜å‚æ•°ç»„åˆ
5. **æ¨¡å¼å‘ç°**: ç†è§£ä¸åŒç°‡ä»£è¡¨çš„éŸ³ä¹ç‰¹å¾

### 2.3 æœŸæœ›æˆæœ

- æ¸…æ™°çš„ç°‡åˆ’åˆ†ï¼ˆæ¥è¿‘512ä¸ªï¼‰
- æ¯ä¸ªç°‡ä»£è¡¨ç‰¹å®šçš„éŸ³ä¹æ¨¡å¼
- é«˜è´¨é‡çš„èšç±»è¯„ä¼°æŒ‡æ ‡
- å¯å¤ç°çš„åˆ†ææµç¨‹

---

## 3. æ•°æ®è¯´æ˜

### 3.1 æ•°æ®æ¦‚è§ˆ

**æ–‡ä»¶**: `data/bos_vectors_dim_83362_768.npy`

| å±æ€§ | å€¼ |
|------|-----|
| æ ·æœ¬æ•° | 83,362 |
| ç»´åº¦ | 768 |
| æ•°æ®ç±»å‹ | float32 |
| å†…å­˜å ç”¨ | ~245 MB |
| æ•°æ®åˆ†å¸ƒ | å‡å€¼â‰ˆ0, æ ‡å‡†å·®â‰ˆ1ï¼ˆå·²æ ‡å‡†åŒ–ï¼‰|
| æ•°å€¼èŒƒå›´ | [-5.14, 5.89] |

### 3.2 æ•°æ®æ¥æº

- **æ¥æº**: Transformer encoderæœ€åä¸€å±‚çš„hidden state
- **ä»£è¡¨**: æ¯ä¸ªæ ·æœ¬æ˜¯ä¸€ä¸ªéŸ³ä¹tokenåºåˆ—ç‰‡æ®µçš„å‘é‡è¡¨ç¤º
- **ç‰¹ç‚¹**: é«˜ç»´ã€è¿ç»­ã€å·²æ ‡å‡†åŒ–

### 3.3 æ•°æ®ç‰¹å¾

1. **é«˜ç»´æ€§**: 768ç»´ï¼Œç›´æ¥èšç±»é¢ä¸´ç»´åº¦ç¾éš¾
2. **ç¨€ç–æ€§**: å®é™…æœ‰æ•ˆç»´åº¦å¯èƒ½æ›´ä½
3. **ç»“æ„æ€§**: ä»åˆæ­¥å¯è§†åŒ–çœ‹æœ‰æ˜æ˜¾ç°‡ç»“æ„
4. **æ ‡å‡†åŒ–**: æ•°æ®å·²é¢„å¤„ç†ï¼Œå‡å€¼æ¥è¿‘0

---

## 4. æŠ€æœ¯æ–¹æ¡ˆ

### 4.1 æ–¹æ¡ˆé€‰æ‹©ï¼šæ–¹æ¡ˆB - å¯†åº¦èšç±»

**æ ¸å¿ƒæ€æƒ³**:
```
åŸå§‹é«˜ç»´æ•°æ® (768D)
    â†“ UMAPé™ç»´
ä¸­ç­‰ç»´åº¦æ•°æ® (50-100D)
    â†“ HDBSCANèšç±»
èšç±»ç»“æœ + å™ªå£°æ£€æµ‹
    â†“ è¯„ä¼°ä¸å¯è§†åŒ–
åˆ†ææŠ¥å‘Š + 2Då¯è§†åŒ–
```

### 4.2 æ–¹æ¡ˆä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| âœ… è‡ªåŠ¨ç¡®å®šç°‡æ•° | HDBSCANæ— éœ€é¢„è®¾Kå€¼ |
| âœ… é€‚åº”ä»»æ„å½¢çŠ¶ | åŸºäºå¯†åº¦ï¼Œä¸å‡è®¾çƒå½¢ç°‡ |
| âœ… å™ªå£°è¯†åˆ« | è‡ªåŠ¨æ ‡è®°ç¦»ç¾¤ç‚¹ |
| âœ… å±‚æ¬¡ç»“æ„ | å¯åˆ†æç°‡çš„å±‚æ¬¡å…³ç³» |
| âœ… å¯æ‰©å±•æ€§ | UMAPé™ç»´åæ•ˆç‡é«˜ |

### 4.3 æŠ€æœ¯æ ˆ

| ç»„ä»¶ | åº“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|-----|------|------|
| é™ç»´ | umap-learn | 0.5.9+ | ä¿æŒæµå½¢ç»“æ„çš„é™ç»´ |
| èšç±» | hdbscan | 0.8.29+ | å±‚æ¬¡å¯†åº¦èšç±» |
| è¯„ä¼° | scikit-learn | 1.0+ | èšç±»è´¨é‡æŒ‡æ ‡ |
| å¯è§†åŒ– | matplotlib | 3.4+ | ç»˜å›¾ |
| | seaborn | 0.11+ | ç»Ÿè®¡å›¾è¡¨ |
| æ•°æ®å¤„ç† | numpy | 1.21+ | æ•°å€¼è®¡ç®— |
| | pandas | 1.3+ | å‚æ•°æœç´¢ç»“æœç®¡ç† |

---

## 5. ç¨‹åºæ¶æ„

### 5.1 æ–‡ä»¶ç»“æ„

```
FinalWork/
â”œâ”€â”€ data/                                  # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ bos_vectors_dim_83362_768.npy     # åŸå§‹768ç»´æ•°æ®
â”‚   â”œâ”€â”€ measure_bos_tsne.png              # åˆæ­¥t-SNEå¯è§†åŒ–
â”‚   â””â”€â”€ read_me.txt                       # æ•°æ®è¯´æ˜
â”‚
â”œâ”€â”€ æ ¸å¿ƒç¨‹åº
â”œâ”€â”€ clustering_analysis.py                 # ä¸»åˆ†æè„šæœ¬ â­
â”œâ”€â”€ advanced_parameter_search.py           # é«˜çº§å‚æ•°æœç´¢ â­
â”œâ”€â”€ compare_results.py                     # ç»“æœå¯¹æ¯”å·¥å…· â­
â”œâ”€â”€ quick_test.py                          # å¿«é€Ÿæµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ æ–‡æ¡£
â”œâ”€â”€ README.md                              # å®Œæ•´é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md                          # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ PROJECT_SUMMARY.md                     # æœ¬æ–‡æ¡£
â”œâ”€â”€ requirements.txt                       # Pythonä¾èµ–
â”‚
â”œâ”€â”€ results/                               # åˆ†æç»“æœè¾“å‡ºç›®å½•
â”‚   â””â”€â”€ run_YYYYMMDD_HHMMSS/              # å¸¦æ—¶é—´æˆ³çš„è¿è¡Œç»“æœ
â”‚       â”œâ”€â”€ cluster_labels.npy            # èšç±»æ ‡ç­¾
â”‚       â”œâ”€â”€ data_reduced.npy              # é™ç»´åæ•°æ®
â”‚       â”œâ”€â”€ data_2d.npy                   # 2Då¯è§†åŒ–æ•°æ®
â”‚       â”œâ”€â”€ clustering_visualization.png  # å¯è§†åŒ–å›¾è¡¨
â”‚       â”œâ”€â”€ summary.json                  # ç»“æœæ‘˜è¦
â”‚       â””â”€â”€ analysis_report.txt           # æ–‡æœ¬æŠ¥å‘Š
â”‚
â””â”€â”€ parameter_search_results/              # å‚æ•°æœç´¢ç»“æœ
    â””â”€â”€ search_YYYYMMDD_HHMMSS/
        â”œâ”€â”€ search_results.csv            # æ‰€æœ‰å®éªŒç»“æœ
        â”œâ”€â”€ top10_results.csv             # Top 10å‚æ•°ç»„åˆ
        â”œâ”€â”€ parameter_search_visualization.png
        â””â”€â”€ search_summary.json
```

### 5.2 æ ¸å¿ƒæ¨¡å—

#### 5.2.1 clustering_analysis.py

**ç±»**: `MusicEmbeddingClustering`

**åŠŸèƒ½æ¨¡å—**:

1. **æ•°æ®åŠ è½½** (`load_data`)
   - åŠ è½½npyæ–‡ä»¶
   - æ•°æ®éªŒè¯å’Œç»Ÿè®¡

2. **UMAPé™ç»´** (`umap_dimensionality_reduction`)
   - å‚æ•°: n_components, n_neighbors, min_dist, metric
   - è¾“å‡º: é™ç»´åæ•°æ®

3. **HDBSCANèšç±»** (`hdbscan_clustering`)
   - å‚æ•°: min_cluster_size, min_samples, cluster_selection_epsilon
   - è¾“å‡º: èšç±»æ ‡ç­¾

4. **è´¨é‡è¯„ä¼°** (`evaluate_clustering`)
   - Silhouette Score
   - Davies-Bouldin Index
   - Calinski-Harabasz Index

5. **2Då¯è§†åŒ–** (`umap_visualization`)
   - ç‹¬ç«‹çš„2Dé™ç»´
   - ç”¨äºæœ€ç»ˆå¯è§†åŒ–

6. **ç»“æœå¯è§†åŒ–** (`visualize_results`)
   - 4ä¸ªå­å›¾ç»¼åˆå±•ç¤º
   - æ•£ç‚¹å›¾ã€åˆ†å¸ƒå›¾ã€ç»Ÿè®¡å›¾

7. **å‚æ•°æœç´¢** (`parameter_search`)
   - ç½‘æ ¼æœç´¢
   - ç›®æ ‡å¯¼å‘ä¼˜åŒ–

8. **ç»“æœä¿å­˜** (`save_results`)
   - NPYæ ¼å¼ä¿å­˜æ•°ç»„
   - JSONä¿å­˜å…ƒæ•°æ®
   - ç”Ÿæˆæ–‡æœ¬æŠ¥å‘Š

**ä½¿ç”¨æ¨¡å¼**:
- **å•æ¬¡åˆ†ææ¨¡å¼**: ä½¿ç”¨å›ºå®šå‚æ•°å¿«é€Ÿåˆ†æ
- **å‚æ•°æœç´¢æ¨¡å¼**: è‡ªåŠ¨å¯»æ‰¾æœ€ä¼˜å‚æ•°

#### 5.2.2 advanced_parameter_search.py

**ç±»**: `AdvancedParameterSearch`

**æ ¸å¿ƒåŠŸèƒ½**:

1. **å…¨é¢ç½‘æ ¼æœç´¢** (`grid_search`)
   - éå†æ‰€æœ‰å‚æ•°ç»„åˆ
   - å®æ—¶è·Ÿè¸ªæœ€ä½³ç»“æœ
   - è¿›åº¦æ¡æ˜¾ç¤º

2. **ç»“æœåˆ†æ** (`analyze_results`)
   - Top 10å‚æ•°ç»„åˆ
   - ç»Ÿè®¡åˆ†å¸ƒåˆ†æ
   - CSVæ ¼å¼ä¿å­˜

3. **å¯è§†åŒ–å¯¹æ¯”** (`visualize_results`)
   - 6ä¸ªå­å›¾å…¨é¢å±•ç¤ºï¼š
     * ç°‡æ•°åˆ†å¸ƒç›´æ–¹å›¾
     * ç°‡æ•°vs UMAPç»´åº¦
     * ç°‡æ•°vs min_cluster_size
     * å™ªå£°æ¯”ä¾‹åˆ†å¸ƒ
     * Silhouette Score vs ç°‡æ•°
     * å‚æ•°çƒ­å›¾

**å‚æ•°ç©ºé—´**:
```python
umap_params = {
    'n_components': [50, 75, 100],
    'n_neighbors': [15, 30],
    'min_dist': [0.0, 0.1]
}

hdbscan_params = {
    'min_cluster_size': [50, 80, 100, 120, 150],
    'min_samples': [5, 10, 15, 20],
    'cluster_selection_epsilon': [0.0, 0.1, 0.2]
}
```

#### 5.2.3 compare_results.py

**ç±»**: `ClusteringResultsComparator`

**åŠŸèƒ½**:

1. **ç»“æœåŠ è½½** (`load_all_results`)
   - æ‰¹é‡åŠ è½½å¤šä¸ªè¿è¡Œç»“æœ
   - è§£æsummary.json
   - åŠ è½½æ ‡ç­¾å’Œ2Dæ•°æ®

2. **ç»Ÿè®¡å¯¹æ¯”** (`compare_statistics`)
   - ç°‡æ•°ã€å™ªå£°æ¯”ä¾‹
   - è¯„ä¼°æŒ‡æ ‡å¯¹æ¯”

3. **å¯è§†åŒ–å¯¹æ¯”** (`visualize_comparison`)
   - å¹¶æ’å±•ç¤ºå¤šä¸ªç»“æœ
   - 2Dæ•£ç‚¹å›¾å¯¹æ¯”
   - ç°‡å¤§å°åˆ†å¸ƒå¯¹æ¯”

4. **æŒ‡æ ‡å¯¹æ¯”** (`compare_metrics`)
   - æŸ±çŠ¶å›¾å±•ç¤ºå„æŒ‡æ ‡
   - æ ‡æ³¨ç›®æ ‡ç°‡æ•°

5. **æŠ¥å‘Šç”Ÿæˆ** (`generate_comparison_report`)
   - æ–‡æœ¬æ ¼å¼è¯¦ç»†å¯¹æ¯”

---

## 6. æ ¸å¿ƒç®—æ³•

### 6.1 UMAPç®—æ³•

**UMAP (Uniform Manifold Approximation and Projection)**

**åŸç†**:
- åŸºäºé»æ›¼å‡ ä½•å’Œæ‹“æ‰‘æ•°æ®åˆ†æ
- å‡è®¾æ•°æ®ä½äºä½ç»´æµå½¢ä¸Š
- ä¿æŒå±€éƒ¨å’Œå…¨å±€ç»“æ„

**å…³é”®å‚æ•°**:

| å‚æ•° | å«ä¹‰ | å»ºè®®å€¼ | å½±å“ |
|------|------|--------|------|
| n_components | é™ç»´ç›®æ ‡ç»´åº¦ | 50-100 | ç»´åº¦è¶Šé«˜ä¿ç•™ä¿¡æ¯è¶Šå¤šï¼Œä½†è®¡ç®—æ›´æ…¢ |
| n_neighbors | å±€éƒ¨é‚»åŸŸå¤§å° | 15-50 | è¶Šå°å…³æ³¨å±€éƒ¨ï¼Œè¶Šå¤§å…³æ³¨å…¨å±€ |
| min_dist | ç‚¹é—´æœ€å°è·ç¦» | 0.0-0.2 | è¶Šå°ç°‡è¶Šç´§å¯†ï¼Œè¶Šå¤§åˆ†å¸ƒè¶Šå‡åŒ€ |
| metric | è·ç¦»åº¦é‡ | cosine/euclidean | cosineé€‚åˆé«˜ç»´å‘é‡ |

**ä¸ºä»€ä¹ˆé€‰æ‹©UMAP**:
1. é€Ÿåº¦å¿«ï¼ˆæ¯”t-SNEå¿«10-100å€ï¼‰
2. ä¿æŒå…¨å±€ç»“æ„ï¼ˆt-SNEä¸»è¦ä¿æŒå±€éƒ¨ï¼‰
3. æ”¯æŒæ–°æ•°æ®æŠ•å½±
4. ç†è®ºåŸºç¡€æ‰å®

### 6.2 HDBSCANç®—æ³•

**HDBSCAN (Hierarchical Density-Based Spatial Clustering)**

**åŸç†**:
1. æ„å»ºæœ€å°ç”Ÿæˆæ ‘
2. è®¡ç®—æ ¸å¿ƒè·ç¦»
3. æ„å»ºç°‡å±‚æ¬¡ç»“æ„
4. æå–ç¨³å®šç°‡
5. æ ‡è®°å™ªå£°ç‚¹

**å…³é”®å‚æ•°**:

| å‚æ•° | å«ä¹‰ | å»ºè®®å€¼ | å½±å“ |
|------|------|--------|------|
| min_cluster_size | ç°‡çš„æœ€å°æ ·æœ¬æ•° | 30-150 | â­ ä¸»è¦æ§åˆ¶ç°‡æ•°é‡ï¼Œè¶Šå°ç°‡è¶Šå¤š |
| min_samples | æ ¸å¿ƒç‚¹æœ€å°é‚»å±…æ•° | 5-20 | è¶Šå¤§å™ªå£°ç‚¹è¶Šå¤šï¼Œç°‡è¶Šå°‘ |
| cluster_selection_epsilon | ç°‡åˆå¹¶é˜ˆå€¼ | 0.0-0.3 | è¶Šå¤§åˆå¹¶è¶Šå¤šï¼Œç°‡æ•°è¶Šå°‘ |
| metric | è·ç¦»åº¦é‡ | euclidean | æ ‡å‡†æ¬§æ°è·ç¦» |

**ä¼˜åŠ¿**:
1. è‡ªåŠ¨ç¡®å®šç°‡æ•°ï¼ˆæ— éœ€é¢„è®¾Kï¼‰
2. è¯†åˆ«ä»»æ„å½¢çŠ¶çš„ç°‡
3. è‡ªåŠ¨æ£€æµ‹å™ªå£°ç‚¹
4. æä¾›å±‚æ¬¡åŒ–ç°‡ç»“æ„
5. å¯¹å‚æ•°ç›¸å¯¹é²æ£’

**ä¸K-Meanså¯¹æ¯”**:

| ç‰¹æ€§ | K-Means | HDBSCAN |
|------|---------|---------|
| ç°‡æ•° | éœ€è¦é¢„è®¾ | è‡ªåŠ¨ç¡®å®š |
| ç°‡å½¢çŠ¶ | çƒå½¢ | ä»»æ„å½¢çŠ¶ |
| å™ªå£°å¤„ç† | å¿…é¡»åˆ†é… | è‡ªåŠ¨è¯†åˆ« |
| å¯†åº¦ | å‡åŒ€å¯†åº¦ | å˜å¯†åº¦ |
| é€‚ç”¨åœºæ™¯ | å·²çŸ¥ç°‡æ•° | æ¢ç´¢æ€§åˆ†æ |

### 6.3 è¯„ä¼°æŒ‡æ ‡

#### 6.3.1 Silhouette Scoreï¼ˆè½®å»“ç³»æ•°ï¼‰

**å…¬å¼**:
```
s(i) = (b(i) - a(i)) / max(a(i), b(i))
```

å…¶ä¸­:
- a(i): æ ·æœ¬iåˆ°åŒç°‡å…¶ä»–ç‚¹çš„å¹³å‡è·ç¦»
- b(i): æ ·æœ¬iåˆ°æœ€è¿‘å…¶ä»–ç°‡çš„å¹³å‡è·ç¦»

**è§£é‡Š**:
- èŒƒå›´: [-1, 1]
- æ¥è¿‘1: ç°‡å†…ç´§å¯†ï¼Œç°‡é—´åˆ†ç¦»
- æ¥è¿‘0: è¾¹ç•Œæ ·æœ¬
- è´Ÿå€¼: å¯èƒ½åˆ†é…é”™è¯¯

**ä¼˜åŠ¿**: ç›´è§‚ï¼Œæ˜“äºç†è§£

#### 6.3.2 Davies-Bouldin Index

**åŸç†**: ç°‡å†…ç¦»æ•£åº¦ä¸ç°‡é—´è·ç¦»çš„æ¯”å€¼

**è§£é‡Š**:
- èŒƒå›´: [0, +âˆ)
- è¶Šå°è¶Šå¥½
- 0ä¸ºç†æƒ³å€¼

**ä¼˜åŠ¿**: è®¡ç®—å¿«ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®

#### 6.3.3 Calinski-Harabasz Index

**åŸç†**: ç°‡é—´æ–¹å·®ä¸ç°‡å†…æ–¹å·®çš„æ¯”å€¼

**è§£é‡Š**:
- èŒƒå›´: [0, +âˆ)
- è¶Šå¤§è¶Šå¥½
- ä¹Ÿç§°ä¸ºæ–¹å·®æ¯”å‡†åˆ™ï¼ˆVRCï¼‰

**ä¼˜åŠ¿**: å¯¹å‡¸å½¢ç°‡æ•ˆæœå¥½

---

## 7. ä½¿ç”¨æŒ‡å—

### 7.1 ç¯å¢ƒå‡†å¤‡

```bash
# 1. æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version  # éœ€è¦ >= 3.8

# 2. å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
pip install -r requirements.txt

# 3. éªŒè¯å®‰è£…
python3 quick_test.py
```

### 7.2 åŸºç¡€ä½¿ç”¨

#### æ–¹å¼1: å•æ¬¡å¿«é€Ÿåˆ†æ

```bash
python clustering_analysis.py
```

**äº¤äº’æç¤º**:
- è¾“å…¥ `n`: å•æ¬¡åˆ†ææ¨¡å¼ï¼ˆé»˜è®¤å‚æ•°ï¼‰
- è¾“å…¥ `y`: å‚æ•°æœç´¢æ¨¡å¼

**é»˜è®¤å‚æ•°**:
- UMAP: n_components=75
- HDBSCAN: min_cluster_size=100, min_samples=10

**è¾“å‡º**: `results/run_YYYYMMDD_HHMMSS/`

#### æ–¹å¼2: é«˜çº§å‚æ•°æœç´¢

```bash
python advanced_parameter_search.py
```

**æœç´¢ç©ºé—´**:
- æ€»ç»„åˆæ•°: ~360ä¸ª
- é¢„è®¡è€—æ—¶: 1-2å°æ—¶
- è‡ªåŠ¨å¯»æ‰¾æœ€æ¥è¿‘512ç°‡çš„å‚æ•°

**è¾“å‡º**: `parameter_search_results/search_YYYYMMDD_HHMMSS/`

#### æ–¹å¼3: ç»“æœå¯¹æ¯”

```bash
python compare_results.py
```

**åŠŸèƒ½**:
- è‡ªåŠ¨æŸ¥æ‰¾æ‰€æœ‰è¿è¡Œç»“æœ
- å¹¶æ’å¯è§†åŒ–å¯¹æ¯”
- ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š

### 7.3 è‡ªå®šä¹‰å‚æ•°

**ç¼–è¾‘ clustering_analysis.py**:

æ‰¾åˆ°ç¬¬515è¡Œå·¦å³çš„å•æ¬¡åˆ†æéƒ¨åˆ†ï¼š

```python
else:
    # å•æ¬¡åˆ†ææ¨¡å¼
    clustering.umap_dimensionality_reduction(
        n_components=75,      # ä¿®æ”¹æ­¤å¤„
        n_neighbors=15,       # ä¿®æ”¹æ­¤å¤„
        min_dist=0.1          # ä¿®æ”¹æ­¤å¤„
    )
    clustering.hdbscan_clustering(
        min_cluster_size=100, # ä¿®æ”¹æ­¤å¤„ â­
        min_samples=10,       # ä¿®æ”¹æ­¤å¤„ â­
        cluster_selection_epsilon=0.0  # ä¿®æ”¹æ­¤å¤„
    )
```

**é’ˆå¯¹512ç°‡çš„å»ºè®®ä¿®æ”¹**:

```python
# é…ç½®1: æ¿€è¿›ï¼ˆå¯èƒ½äº§ç”Ÿ600+ç°‡ï¼‰
n_components=100
min_cluster_size=30
min_samples=5

# é…ç½®2: å¹³è¡¡ï¼ˆå¯èƒ½äº§ç”Ÿ400-600ç°‡ï¼‰
n_components=75
min_cluster_size=50
min_samples=8

# é…ç½®3: ä¿å®ˆï¼ˆå¯èƒ½äº§ç”Ÿ200-400ç°‡ï¼‰
n_components=50
min_cluster_size=80
min_samples=12
```

---

## 8. å®éªŒæµç¨‹

### 8.1 æ ‡å‡†å®éªŒæµç¨‹

```
ç¬¬1æ­¥: æ¢ç´¢æ€§åˆ†æ
â”œâ”€ è¿è¡Œ quick_test.py
â”œâ”€ æŸ¥çœ‹æµ‹è¯•ç»“æœ
â””â”€ ç¡®è®¤ç¯å¢ƒæ­£å¸¸

ç¬¬2æ­¥: å•æ¬¡baseline
â”œâ”€ python clustering_analysis.py (é€‰æ‹© n)
â”œâ”€ è§‚å¯Ÿé»˜è®¤å‚æ•°å¾—åˆ°çš„ç°‡æ•°
â””â”€ è®°å½•è¯„ä¼°æŒ‡æ ‡

ç¬¬3æ­¥: å‚æ•°æœç´¢
â”œâ”€ python advanced_parameter_search.py
â”œâ”€ ç­‰å¾…å®Œæˆï¼ˆ1-2å°æ—¶ï¼‰
â”œâ”€ æŸ¥çœ‹ top10_results.csv
â””â”€ ç¡®å®šæœ€ä¼˜å‚æ•°

ç¬¬4æ­¥: ä½¿ç”¨æœ€ä¼˜å‚æ•°é‡è·‘
â”œâ”€ ä¿®æ”¹ clustering_analysis.py å‚æ•°
â”œâ”€ é‡æ–°è¿è¡Œ
â””â”€ ä¿å­˜æœ€ç»ˆç»“æœ

ç¬¬5æ­¥: ç»“æœå¯¹æ¯”ä¸åˆ†æ
â”œâ”€ python compare_results.py
â”œâ”€ å¯¹æ¯”å¤šæ¬¡å®éªŒ
â””â”€ æ’°å†™åˆ†ææŠ¥å‘Š
```

### 8.2 å¿«é€Ÿè¿­ä»£æµç¨‹

å¦‚æœæ—¶é—´æœ‰é™ï¼Œå¯ä»¥é‡‡ç”¨å¿«é€Ÿè¿­ä»£ï¼š

```
1. è¿è¡Œé»˜è®¤å‚æ•° â†’ å‡è®¾å¾—åˆ°100ç°‡
2. è°ƒæ•´: min_cluster_size=50 â†’ å¾—åˆ°200ç°‡
3. è°ƒæ•´: min_cluster_size=35 â†’ å¾—åˆ°350ç°‡
4. è°ƒæ•´: min_cluster_size=30 â†’ å¾—åˆ°480ç°‡ âœ“ æ¥è¿‘ç›®æ ‡
5. å¾®è°ƒ: min_samples=8 â†’ å¾—åˆ°510ç°‡ âœ“âœ“ æœ€ç»ˆ
```

### 8.3 å¹¶è¡Œå®éªŒç­–ç•¥

åœ¨å¤šå°æœºå™¨æˆ–å¤šä¸ªç»ˆç«¯ï¼š

**ç»ˆç«¯1**: ä¿å®ˆå‚æ•°
```python
n_components=50, min_cluster_size=100, min_samples=15
```

**ç»ˆç«¯2**: ä¸­ç­‰å‚æ•°
```python
n_components=75, min_cluster_size=50, min_samples=10
```

**ç»ˆç«¯3**: æ¿€è¿›å‚æ•°
```python
n_components=100, min_cluster_size=30, min_samples=5
```

æœ€åä½¿ç”¨ `compare_results.py` ç»Ÿä¸€å¯¹æ¯”ã€‚

---

## 9. å‚æ•°è°ƒä¼˜ç­–ç•¥

### 9.1 ç›®æ ‡å¯¼å‘è°ƒä¼˜

**ç›®æ ‡**: æ¥è¿‘512ä¸ªç°‡

**ç­–ç•¥çŸ©é˜µ**:

| å½“å‰ç°‡æ•° | ç›®æ ‡ç°‡æ•° | è°ƒæ•´ç­–ç•¥ |
|---------|---------|----------|
| < 100 | 512 | min_cluster_size: 100â†’50â†’30 |
| 100-200 | 512 | min_cluster_size: å‡å°20-30 |
| 200-400 | 512 | min_cluster_size: å‡å°10-15 |
| 400-500 | 512 | å¾®è°ƒ min_samples å’Œ epsilon |
| 500-550 | 512 | âœ“ å·²æ¥è¿‘ï¼Œè§‚å¯Ÿè´¨é‡ |
| 550-700 | 512 | min_cluster_size: å¢åŠ 5-10 |
| > 700 | 512 | min_cluster_size: å¤§å¹…å¢åŠ  |

### 9.2 å‚æ•°å½±å“æƒé‡

**ä¸»è¦å½±å“ç°‡æ•°** (é‡è¦æ€§é™åº):

1. **min_cluster_size** â­â­â­â­â­
   - æœ€ç›´æ¥æ§åˆ¶ç°‡æ•°é‡
   - å‡å° â†’ ç°‡æ•°å¢åŠ 
   - å»ºè®®è°ƒæ•´èŒƒå›´: 30-150

2. **min_samples** â­â­â­â­
   - é—´æ¥å½±å“ç°‡æ•°
   - å‡å° â†’ ç°‡æ•°å¢åŠ ï¼Œå™ªå£°å‡å°‘
   - å»ºè®®è°ƒæ•´èŒƒå›´: 5-20

3. **cluster_selection_epsilon** â­â­â­
   - æ§åˆ¶ç°‡åˆå¹¶
   - å¢å¤§ â†’ ç°‡æ•°å‡å°‘
   - å»ºè®®è°ƒæ•´èŒƒå›´: 0.0-0.3

4. **n_components (UMAP)** â­â­
   - å½±å“æ•°æ®è¡¨ç¤ºè´¨é‡
   - é—´æ¥å½±å“ç°‡æ•°
   - å»ºè®®: 50-100

5. **n_neighbors (UMAP)** â­
   - å½±å“å±€éƒ¨vså…¨å±€ç»“æ„
   - å¯¹ç°‡æ•°å½±å“è¾ƒå°
   - å»ºè®®: 15-50

### 9.3 è´¨é‡å¯¼å‘è°ƒä¼˜

é™¤äº†ç°‡æ•°ï¼Œè¿˜è¦å…³æ³¨è´¨é‡ï¼š

**ä¼˜å…ˆçº§**:
1. ç°‡æ•°æ¥è¿‘512 (Â±50)
2. Silhouette Score > 0.3
3. å™ªå£°æ¯”ä¾‹ < 5%
4. Davies-Bouldin Index å°½å¯èƒ½å°

**æƒè¡¡**:
- ç°‡æ•°è¶Šå¤š â†’ Silhouette Score å¯èƒ½é™ä½
- å‡å° min_samples â†’ å™ªå£°ç‚¹å‡å°‘ï¼Œä½†å¯èƒ½è¿‡æ‹Ÿåˆ
- å¢å¤§ min_cluster_size â†’ è´¨é‡æå‡ï¼Œä½†ç°‡æ•°å‡å°‘

### 9.4 å¸¸è§è°ƒä¼˜è·¯å¾„

**è·¯å¾„A: ä»å°‘åˆ°å¤š**
```
100ç°‡ (min_cluster_size=150)
  â†“ -50
200ç°‡ (min_cluster_size=100)
  â†“ -30
350ç°‡ (min_cluster_size=70)
  â†“ -20
480ç°‡ (min_cluster_size=50)
  â†“ -10
520ç°‡ (min_cluster_size=40) âœ“
```

**è·¯å¾„B: ä»å¤šåˆ°å°‘**
```
800ç°‡ (min_cluster_size=20)
  â†“ +15
600ç°‡ (min_cluster_size=35)
  â†“ +10
510ç°‡ (min_cluster_size=45) âœ“
```

---

## 10. ç»“æœè§£è¯»

### 10.1 è¾“å‡ºæ–‡ä»¶è¯´æ˜

#### results/run_YYYYMMDD_HHMMSS/

**cluster_labels.npy**
- æ ¼å¼: numpyæ•°ç»„ (83362,)
- å†…å®¹: æ¯ä¸ªæ ·æœ¬çš„ç°‡æ ‡ç­¾
- -1: å™ªå£°ç‚¹
- 0, 1, 2, ...: ç°‡ID

**data_reduced.npy**
- æ ¼å¼: numpyæ•°ç»„ (83362, n_components)
- å†…å®¹: UMAPé™ç»´åçš„æ•°æ®
- ç”¨é€”: åç»­åˆ†æã€å¯è§†åŒ–

**data_2d.npy**
- æ ¼å¼: numpyæ•°ç»„ (83362, 2)
- å†…å®¹: 2D UMAPæŠ•å½±
- ç”¨é€”: æ•£ç‚¹å›¾å¯è§†åŒ–

**clustering_visualization.png**
- 4ä¸ªå­å›¾ç»¼åˆå¯è§†åŒ–:
  1. å·¦ä¸Š: 2Dæ•£ç‚¹å›¾ï¼ˆç°‡åˆ†å¸ƒï¼‰
  2. å³ä¸Š: ç°‡å¤§å°åˆ†å¸ƒï¼ˆTop 50ï¼‰
  3. å·¦ä¸‹: ç°‡å¤§å°ç»Ÿè®¡ç®±çº¿å›¾
  4. å³ä¸‹: æ•°æ®åˆ†å¸ƒé¥¼å›¾ï¼ˆèšç±»vså™ªå£°ï¼‰

**summary.json**
- å®Œæ•´çš„å…ƒæ•°æ®å’Œç»“æœ
- åŒ…å«: å‚æ•°ã€ç°‡æ•°ã€æŒ‡æ ‡ã€æ—¶é—´æˆ³

**analysis_report.txt**
- äººç±»å¯è¯»çš„åˆ†ææŠ¥å‘Š
- åŒ…å«: æ•°æ®ä¿¡æ¯ã€èšç±»ç»“æœã€è¯„ä¼°æŒ‡æ ‡

### 10.2 å…³é”®æŒ‡æ ‡è§£è¯»

#### ç°‡æ•°

**ç†æƒ³**: æ¥è¿‘512 (450-550å¯æ¥å—)

**è§£é‡Š**:
- å¤ªå°‘ (< 200): å¯èƒ½è¿‡åº¦åˆå¹¶ï¼Œä¸¢å¤±ç»†èŠ‚
- é€‚ä¸­ (400-600): å¯èƒ½è¾¾åˆ°è¾ƒå¥½çš„ç²’åº¦
- å¤ªå¤š (> 800): å¯èƒ½è¿‡åº¦ç»†åˆ†ï¼Œå™ªå£°å¢åŠ 

#### Silhouette Score

**èŒƒå›´**: [-1, 1]

| åˆ†æ•° | è§£é‡Š | è´¨é‡ |
|------|------|------|
| 0.7-1.0 | ç°‡å†…æç´§å¯†ï¼Œç°‡é—´æåˆ†ç¦» | ä¼˜ç§€ |
| 0.5-0.7 | ç°‡ç»“æ„åˆç† | è‰¯å¥½ |
| 0.3-0.5 | ç°‡æœ‰ä¸€å®šé‡å  | ä¸­ç­‰ |
| 0.2-0.3 | ç°‡ç»“æ„ä¸æ˜æ˜¾ | è¾ƒå·® |
| < 0.2 | å‡ ä¹éšæœºåˆ†é… | å·® |

**æ³¨æ„**: å¯¹äº512ä¸ªç°‡ï¼Œ0.3-0.5å·²ç»æ˜¯ä¸é”™çš„ç»“æœ

#### å™ªå£°æ¯”ä¾‹

**ç†æƒ³**: < 5%

| æ¯”ä¾‹ | è§£é‡Š |
|------|------|
| < 2% | å‡ ä¹æ‰€æœ‰ç‚¹éƒ½è¢«èšç±» |
| 2-5% | æ­£å¸¸æ°´å¹³ |
| 5-10% | è¾ƒå¤šå™ªå£°ï¼Œå¯èƒ½éœ€è¦è°ƒå‚ |
| > 10% | è¿‡å¤šå™ªå£°ï¼Œå‚æ•°ä¸åˆé€‚ |

### 10.3 å¯è§†åŒ–è§£è¯»

#### 2Dæ•£ç‚¹å›¾

**è§‚å¯Ÿè¦ç‚¹**:
1. **ç°‡åˆ†ç¦»åº¦**: ç°‡ä¹‹é—´æ˜¯å¦æœ‰æ˜æ˜¾é—´éš”
2. **ç°‡å¯†åº¦**: ç°‡å†…ç‚¹æ˜¯å¦ç´§å¯†
3. **å™ªå£°åˆ†å¸ƒ**: ç¦»ç¾¤ç‚¹çš„ä½ç½®
4. **ç°‡å½¢çŠ¶**: åœ†å½¢ã€é•¿æ¡å½¢ã€ä¸è§„åˆ™å½¢
5. **ç°‡å¤§å°**: å¤§å°æ˜¯å¦å‡è¡¡

**ç¤ºä¾‹è§£è¯»**:
- ç°‡æ¸…æ™°åˆ†ç¦» â†’ å¥½çš„èšç±»
- ç°‡é«˜åº¦é‡å  â†’ å¯èƒ½éœ€è¦æ›´å¤šç»´åº¦
- å¤§é‡å­¤ç«‹ç‚¹ â†’ å™ªå£°å‚æ•°éœ€è°ƒæ•´

#### ç°‡å¤§å°åˆ†å¸ƒ

**è§‚å¯Ÿè¦ç‚¹**:
1. **åˆ†å¸ƒå½¢æ€**: å‡åŒ€ vs ä¸å‡åŒ€
2. **æœ€å¤§ç°‡**: ä¸åº”è¿‡å¤§ï¼ˆå¦‚ > 5000ï¼‰
3. **æœ€å°ç°‡**: ç”± min_cluster_size å†³å®š
4. **é•¿å°¾**: æ˜¯å¦æœ‰å¾ˆå¤šå°ç°‡

**ç†æƒ³æƒ…å†µ**:
- ç°‡å¤§å°ç›¸å¯¹å‡åŒ€
- å°‘æ•°å·¨å‹ç°‡ï¼ˆå¯èƒ½ä»£è¡¨é€šç”¨æ¨¡å¼ï¼‰
- å¤šæ•°ä¸­ç­‰ç°‡ï¼ˆä»£è¡¨ç‰¹å®šæ¨¡å¼ï¼‰

---

## 11. å¸¸è§é—®é¢˜

### 11.1 è¿è¡Œé—®é¢˜

**Q1: å†…å­˜ä¸è¶³**

è§£å†³æ–¹æ¡ˆ:
```python
# æ–¹æ¡ˆ1: æ•°æ®é‡‡æ ·
data = data[::2]  # ä½¿ç”¨ä¸€åŠæ•°æ®

# æ–¹æ¡ˆ2: å‡å°UMAPç»´åº¦
n_components=50  # ä»100é™åˆ°50

# æ–¹æ¡ˆ3: å¢åŠ ç³»ç»Ÿswap
sudo fallocate -l 8G /swapfile
```

**Q2: è¿è¡Œå¤ªæ…¢**

è§£å†³æ–¹æ¡ˆ:
- å‡å°å‚æ•°æœç´¢ç©ºé—´
- ä½¿ç”¨æ›´å°‘çš„n_neighbors
- ç¡®ä¿å®‰è£…äº†numba (HDBSCANåŠ é€Ÿ)
- è€ƒè™‘ä½¿ç”¨GPUç‰ˆæœ¬ (cuml)

**Q3: å¯¼å…¥é”™è¯¯**

```bash
# é‡æ–°å®‰è£…
pip uninstall hdbscan umap-learn
pip install hdbscan umap-learn --no-cache-dir
```

### 11.2 ç»“æœé—®é¢˜

**Q4: ç°‡æ•°è¿œå°‘äº512**

å…¸å‹: åªæœ‰50-100ä¸ªç°‡

è§£å†³æ–¹æ¡ˆ:
1. å‡å° min_cluster_size: 100 â†’ 30
2. å‡å° min_samples: 10 â†’ 5
3. è®¾ç½® cluster_selection_epsilon = 0.0
4. å°è¯•å¢åŠ  n_neighbors: 15 â†’ 30

**Q5: ç°‡æ•°è¿œå¤šäº512**

å…¸å‹: æœ‰1000+ä¸ªç°‡

è§£å†³æ–¹æ¡ˆ:
1. å¢å¤§ min_cluster_size: 30 â†’ 80
2. å¢å¤§ min_samples: 5 â†’ 15
3. å¢å¤§ cluster_selection_epsilon: 0.0 â†’ 0.2

**Q6: å™ªå£°ç‚¹å¤ªå¤š (>10%)**

è§£å†³æ–¹æ¡ˆ:
1. å¢å¤§ min_samples
2. å‡å° min_cluster_size (åç›´è§‰ï¼Œä½†æœ‰æ•ˆ)
3. è°ƒæ•´ UMAP min_dist â†’ 0.0

**Q7: Silhouette Scoreå¾ˆä½ (<0.2)**

å¯èƒ½åŸå› :
- ç°‡æ•°å¤ªå¤šï¼Œè¿‡åº¦ç»†åˆ†
- æ•°æ®æœ¬èº«é‡å ä¸¥é‡
- UMAPé™ç»´æŸå¤±è¿‡å¤šä¿¡æ¯

è§£å†³æ–¹æ¡ˆ:
1. å¢åŠ  n_components: 50 â†’ 100
2. å‡å°‘ç°‡æ•°
3. å°è¯•ä¸åŒçš„ UMAP metric (cosine vs euclidean)

### 11.3 è§£é‡Šé—®é¢˜

**Q8: å¦‚ä½•è§£é‡Šæ¯ä¸ªç°‡ä»£è¡¨ä»€ä¹ˆ**

æ–¹æ³•:
1. æå–æ¯ä¸ªç°‡çš„æ ·æœ¬ç´¢å¼•
2. å›æº¯åˆ°åŸå§‹éŸ³ä¹tokenåºåˆ—
3. åˆ†æéŸ³ä¹ç‰¹å¾:
   - éŸ³é«˜åˆ†å¸ƒ
   - èŠ‚å¥æ¨¡å¼
   - éŸ³ç¨‹å…³ç³»
   - å’Œå£°ç»“æ„

```python
# ç¤ºä¾‹ä»£ç 
labels = np.load('results/run_*/cluster_labels.npy')
cluster_5_indices = np.where(labels == 5)[0]
# ç„¶ååˆ†æè¿™äº›æ ·æœ¬çš„éŸ³ä¹ç‰¹å¾
```

**Q9: å¦‚ä½•éªŒè¯èšç±»ç»“æœå¥½å**

æ–¹æ³•:
1. **å®šé‡**: æŸ¥çœ‹è¯„ä¼°æŒ‡æ ‡ï¼ˆSilhouetteç­‰ï¼‰
2. **å®šæ€§**: å¯è§†åŒ–è§‚å¯Ÿç°‡åˆ†ç¦»åº¦
3. **å¤–éƒ¨éªŒè¯**: å¦‚æœæœ‰æ ‡ç­¾ï¼ˆhigh/low voiceï¼‰ï¼Œè®¡ç®—ARI/NMI
4. **éŸ³ä¹éªŒè¯**: å¬åŒä¸€ç°‡çš„éŸ³ä¹æ˜¯å¦ç›¸ä¼¼

**Q10: ä¸åŒè¿è¡Œç»“æœä¸ä¸€è‡´æ€ä¹ˆåŠ**

åŸå› : UMAPå’ŒHDBSCANéƒ½æœ‰éšæœºæ€§

è§£å†³æ–¹æ¡ˆ:
1. è®¾ç½® random_state=42 (å·²è®¾ç½®)
2. å¤šæ¬¡è¿è¡Œå–å¹³å‡
3. å…³æ³¨ç¨³å®šå‡ºç°çš„ç°‡ç»“æ„

---

## 12. æŠ€æœ¯ç»†èŠ‚

### 12.1 ä¸ºä»€ä¹ˆé¢„é™ç»´

**ç›´æ¥åœ¨768ç»´èšç±»çš„é—®é¢˜**:

1. **ç»´åº¦ç¾éš¾**:
   - é«˜ç»´ç©ºé—´è·ç¦»åº¦é‡å¤±æ•ˆ
   - æ‰€æœ‰ç‚¹è·ç¦»è¶‹äºç›¸ç­‰
   - å¯†åº¦ä¼°è®¡ä¸å‡†ç¡®

2. **è®¡ç®—å¤æ‚åº¦**:
   - HDBSCANæ—¶é—´å¤æ‚åº¦: O(nÂ²)
   - 768ç»´è·ç¦»è®¡ç®—æ˜‚è´µ

3. **å™ªå£°ç»´åº¦**:
   - å¯èƒ½æœ‰å¾ˆå¤šå†—ä½™ç»´åº¦
   - å¢åŠ å™ªå£°ï¼Œé™ä½ä¿¡å·

**UMAPé¢„é™ç»´ä¼˜åŠ¿**:
- ä¿ç•™ä¸»è¦ç»“æ„
- é™ä½è®¡ç®—å¤æ‚åº¦
- å»é™¤å™ªå£°ç»´åº¦
- æé«˜èšç±»è´¨é‡

### 12.2 ä¸ºä»€ä¹ˆé€‰æ‹©HDBSCANè€ŒéK-Means

**K-Meansé™åˆ¶**:
1. éœ€è¦é¢„è®¾K=512ï¼ˆæ— æ³•éªŒè¯æ˜¯å¦æœ€ä¼˜ï¼‰
2. å‡è®¾çƒå½¢ç°‡ï¼ˆéŸ³ä¹æ•°æ®å¯èƒ½ä¸æ˜¯ï¼‰
3. å¯¹ç¦»ç¾¤ç‚¹æ•æ„Ÿ
4. å¯¹åˆå§‹åŒ–æ•æ„Ÿ

**HDBSCANä¼˜åŠ¿**:
1. è‡ªåŠ¨ç¡®å®šç°‡æ•°
2. é€‚åº”ä»»æ„ç°‡å½¢çŠ¶
3. è¯†åˆ«ç¦»ç¾¤ç‚¹
4. æä¾›å±‚æ¬¡ç»“æ„
5. å¯¹å‚æ•°ç›¸å¯¹é²æ£’

### 12.3 è·ç¦»åº¦é‡é€‰æ‹©

**UMAPé˜¶æ®µ**:
- **cosineè·ç¦»**: é€‚åˆé«˜ç»´å‘é‡ï¼Œå…³æ³¨æ–¹å‘è€Œéé•¿åº¦
- **euclideanè·ç¦»**: å…³æ³¨ç»å¯¹è·ç¦»

**HDBSCANé˜¶æ®µ**:
- **euclideanè·ç¦»**: é™ç»´åä½¿ç”¨æ ‡å‡†è·ç¦»

### 12.4 è®¡ç®—å¤æ‚åº¦

**æ—¶é—´å¤æ‚åº¦**:

| æ“ä½œ | å¤æ‚åº¦ | å®é™…è€—æ—¶ |
|------|--------|----------|
| UMAPé™ç»´ | O(nÂ·dÂ·epochs) | 2-5åˆ†é’Ÿ |
| HDBSCANèšç±» | O(nÂ²) | 5-10åˆ†é’Ÿ |
| 2Då¯è§†åŒ– | O(nÂ·d) | 1-2åˆ†é’Ÿ |
| è¯„ä¼°æŒ‡æ ‡ | O(nÂ·k) | < 1åˆ†é’Ÿ |

å…¶ä¸­: n=83362, d=768, k=ç°‡æ•°

**ç©ºé—´å¤æ‚åº¦**:
- åŸå§‹æ•°æ®: ~245 MB
- é™ç»´æ•°æ®: ~16 MB (50D) ~ 32 MB (100D)
- 2Dæ•°æ®: ~1.3 MB
- æ ‡ç­¾: ~330 KB

### 12.5 å¯å¤ç°æ€§

**éšæœºæ€§æ¥æº**:
1. UMAPçš„éšæœºåˆå§‹åŒ–
2. HDBSCANçš„å¹¶è¡ŒéšæœºåŒ–ï¼ˆminimalï¼‰

**ç¡®ä¿å¯å¤ç°**:
- è®¾ç½® `random_state=42` (UMAP)
- å¤šæ¬¡è¿è¡ŒéªŒè¯ç¨³å®šæ€§
- ä¿å­˜æ‰€æœ‰å‚æ•°å’Œç»“æœ

### 12.6 æ‰©å±•æ€§

**æ•°æ®è§„æ¨¡**:
- å½“å‰: 83Kæ ·æœ¬ï¼Œ768ç»´
- å¯æ‰©å±•: ç™¾ä¸‡çº§æ ·æœ¬ï¼ˆéœ€è¦æ›´å¤šå†…å­˜ï¼‰
- è¶…å¤§è§„æ¨¡: è€ƒè™‘Mini-Batchæ–¹æ³•æˆ–é‡‡æ ·

**ç»´åº¦**:
- å½“å‰: 768ç»´
- é€‚ç”¨èŒƒå›´: 100-2048ç»´
- æ›´é«˜ç»´: UMAPä¾ç„¶æœ‰æ•ˆ

**GPUåŠ é€Ÿ**:
- å®‰è£… cuml (RAPIDSåº“)
- UMAPå’ŒHDBSCANéƒ½æœ‰GPUç‰ˆæœ¬
- å¯åŠ é€Ÿ5-10å€

---

## 13. é¡¹ç›®æˆæœ

### 13.1 æŠ€æœ¯æˆæœ

âœ… **å®Œæ•´çš„åˆ†ææµç¨‹**:
- æ•°æ®åŠ è½½ â†’ é™ç»´ â†’ èšç±» â†’ è¯„ä¼° â†’ å¯è§†åŒ–

âœ… **å¤šç§ä½¿ç”¨æ¨¡å¼**:
- å•æ¬¡å¿«é€Ÿåˆ†æ
- å‚æ•°æœç´¢ä¼˜åŒ–
- ç»“æœæ‰¹é‡å¯¹æ¯”

âœ… **ä¸“ä¸šçš„å¯è§†åŒ–**:
- 2Dæ•£ç‚¹å›¾
- ç°‡åˆ†å¸ƒå›¾
- å‚æ•°å½±å“å›¾
- å¤šå®éªŒå¯¹æ¯”å›¾

âœ… **å®Œå–„çš„æ–‡æ¡£**:
- ç”¨æˆ·æ–‡æ¡£ (README, QUICKSTART)
- æŠ€æœ¯æ–‡æ¡£ (æœ¬æ–‡æ¡£)
- ä»£ç æ³¨é‡Š

### 13.2 å¯äº¤ä»˜æˆæœ

1. **ç¨‹åºä»£ç ** (4ä¸ªPythonè„šæœ¬)
2. **åˆ†æç»“æœ** (å¯è§†åŒ–å›¾è¡¨ã€æ•°æ®æ–‡ä»¶)
3. **æŠ€æœ¯æ–‡æ¡£** (æ–¹æ³•è¯´æ˜ã€å‚æ•°è§£é‡Š)
4. **å®éªŒæŠ¥å‘Š** (èšç±»ç»“æœã€è¯„ä¼°æŒ‡æ ‡)

### 13.3 åç»­æ‰©å±•æ–¹å‘

**çŸ­æœŸ**:
1. ä½¿ç”¨æ‰¾åˆ°çš„æœ€ä¼˜å‚æ•°è¿›è¡Œå…¨é‡åˆ†æ
2. å¯¹æ¯ä¸ªç°‡è¿›è¡ŒéŸ³ä¹ç‰¹å¾åˆ†æ
3. å¯è§†åŒ–ç°‡çš„éŸ³ä¹ç‰¹å¾åˆ†å¸ƒ

**ä¸­æœŸ**:
1. ä½¿ç”¨å·²çŸ¥æ ‡ç­¾ï¼ˆhigh/low voiceï¼‰è¿›è¡Œå¤–éƒ¨éªŒè¯
2. å°è¯•å±‚æ¬¡èšç±»åˆ†æç°‡çš„å±‚çº§å…³ç³»
3. å¯è§†åŒ–ç°‡ä¹‹é—´çš„ç›¸ä¼¼åº¦çŸ©é˜µ

**é•¿æœŸ**:
1. ç»“åˆå…¶ä»–éŸ³ä¹ç‰¹å¾ï¼ˆæ—¶é•¿ã€è°ƒæ€§ç­‰ï¼‰
2. ç”¨èšç±»ç»“æœè¾…åŠ©éŸ³ä¹ç”Ÿæˆ
3. æ„å»ºéŸ³ä¹æ£€ç´¢ç³»ç»Ÿ

---

## 14. å‚è€ƒèµ„æº

### 14.1 è®ºæ–‡

1. **UMAP**:
   - McInnes, L., Healy, J., & Melville, J. (2018). UMAP: Uniform Manifold Approximation and Projection for Dimension Reduction. arXiv:1802.03426.

2. **HDBSCAN**:
   - Campello, R. J., Moulavi, D., & Sander, J. (2013). Density-based clustering based on hierarchical density estimates. PAKDD 2013.

3. **èšç±»è¯„ä¼°**:
   - Rousseeuw, P. J. (1987). Silhouettes: a graphical aid to the interpretation and validation of cluster analysis. Journal of computational and applied mathematics, 20, 53-65.

### 14.2 æ–‡æ¡£é“¾æ¥

- UMAPæ–‡æ¡£: https://umap-learn.readthedocs.io/
- HDBSCANæ–‡æ¡£: https://hdbscan.readthedocs.io/
- scikit-learnèšç±»: https://scikit-learn.org/stable/modules/clustering.html

### 14.3 æ•™ç¨‹èµ„æº

- UMAPå‚æ•°ç†è§£: https://pair-code.github.io/understanding-umap/
- HDBSCANå‚æ•°è°ƒä¼˜: https://hdbscan.readthedocs.io/en/latest/parameter_selection.html

---

## 15. æ€»ç»“

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ª**å®Œæ•´çš„ã€ä¸“ä¸šçš„ã€å¯æ‰©å±•çš„éŸ³ä¹Token Embeddingèšç±»åˆ†æç³»ç»Ÿ**ã€‚

### æ ¸å¿ƒä»·å€¼

1. **æ–¹æ³•ç§‘å­¦**: UMAP-HDBSCANæ˜¯å½“å‰æœ€å…ˆè¿›çš„æ— ç›‘ç£èšç±»æ–¹æ¡ˆ
2. **å®ç°å®Œæ•´**: ä»æ•°æ®åŠ è½½åˆ°ç»“æœåˆ†æçš„å…¨æµç¨‹
3. **æ˜“äºä½¿ç”¨**: äº¤äº’å¼ç•Œé¢ï¼Œè¯¦ç»†æ–‡æ¡£
4. **å¯å¤ç°**: æ‰€æœ‰å‚æ•°å¯æ§ï¼Œç»“æœå¯ä¿å­˜
5. **å¯æ‰©å±•**: ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºä¿®æ”¹

### é€‚ç”¨åœºæ™¯

- âœ… éŸ³ä¹ä¿¡æ¯æ£€ç´¢
- âœ… éŸ³ä¹ç‰¹å¾å­¦ä¹ è¯„ä¼°
- âœ… æ— ç›‘ç£éŸ³ä¹åˆ†æ
- âœ… æ¢ç´¢æ€§æ•°æ®åˆ†æ
- âœ… èšç±»ç®—æ³•æ•™å­¦

### æœ€ä½³å®è·µ

1. å…ˆè¿è¡Œquick_test.pyéªŒè¯ç¯å¢ƒ
2. ä½¿ç”¨å‚æ•°æœç´¢æ‰¾åˆ°æœ€ä¼˜é…ç½®
3. å¤šæ¬¡è¿è¡ŒéªŒè¯ç¨³å®šæ€§
4. ç»“åˆéŸ³ä¹çŸ¥è¯†è§£é‡Šç»“æœ
5. å‚è€ƒæœ¬æ–‡æ¡£ç†è§£æŠ€æœ¯ç»†èŠ‚

---

**é¡¹ç›®å®Œæˆæ—¥æœŸ**: 2025-11-10
**ç‰ˆæœ¬**: v1.0
**ä½œè€…**: Data Mining Project Team

ç¥æ‚¨ç ”ç©¶é¡ºåˆ©ï¼ğŸµğŸ“Šâœ¨
